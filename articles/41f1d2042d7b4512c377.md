---
title: "é–“é•ã£ã¦æ¶ˆã—ã¦ã—ã¾ã£ãŸ git stash ã‚’å…ƒã«æˆ»ã™ï¼ˆPowerShellï¼‰"
emoji: "ğŸ¦"
type: "tech"  # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [ "Git", "PowerShell" ]
published: false
created_at: "2020-01-16T01:58:28+09:00"
updated_at: "2020-01-16T01:58:28+09:00"
---
# å‰ç½®ã

ã‚ã‚‹æ™‚Gitã«æ®‹ã£ãŸStashã‚’æ•´ç†ã—ã‚ˆã†ã¨VSCodeã®GitLensã‚’ä½¿ã£ã¦æ¶ˆã—ã¦ã„ãŸã®ã§ã™ãŒã€ã†ã£ã‹ã‚Šä½œæ¥­ä¸­ã®Stashã¾ã§æ¶ˆã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ç„¦ã£ã¦Googleå…ˆç”Ÿã«åŠ©ã‘ã‚’æ±‚ã‚ãŸã¨ã“ã‚ã€ä»¥ä¸‹ã®è¨˜äº‹ã«åŠ©ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚

[git stashã‚’ã‚³ãƒŸãƒƒãƒˆã‚‚ãªã—ã«æ¶ˆã—ã¦ã—ã¾ã£ãŸæ™‚ã®å¯¾å¿œ \- Qiita](https://qiita.com/shotakeu/items/430a09dddeeac444dcf6)

ã‚³ãƒãƒ³ãƒ‰ãŒMacå‘ã‘ã§ã—ãŸã®ã§ã€Windowsãƒ¦ãƒ¼ã‚¶ã®è‡ªåˆ†ç”¨ã«PowerShellå‘ã‘ã«æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚

# ç’°å¢ƒ
* Windows 10
* PowerShell 6.2.2
* git version 2.17.1.windows.2

# æœ¬é¡Œ


ã¾ãšã€Gitå†…ã«ã‚ã‚‹å®™ã¶ã‚‰ã‚Šã‚“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¢ºèªã—ã¾ã™ã€‚
[Git \- ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†](https://git-scm.com/book/ja/v2/Appendix-C%3A-Git%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89-%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E7%AE%A1%E7%90%86)

```powershell:powershell
> git fsck --lost-found
Checking object directories: 100% (256/256), done.
Checking objects: 100% (189/189), done.
dangling commit 5bb836c4a1ecfbcca27d87f66a53007380962efb
dangling commit 7c75d438ab033ddafe60833325b216e8b7355636
dangling commit 137af08c3282051d0ea00c62da76af6d5fb9ae3c
```

ã“ã“ã§ã¯commitã ã‘ã§ã™ãŒã€blobãªã©ã‚‚å‡ºã¦ããŸã‚Šã™ã‚‹ã®ã§ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‹ã‘ã¾ã™ã€‚

```powershell:powershell
> git fsck --lost-found | ?{ $_ -match "commit" }
```
`?`ã¯`Where-Object`ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ã™ã€‚ï¼ˆä¸‹ã§å‡ºã¦ãã‚‹`%`ã¯`ForEach-Object`ã§ã™ï¼‰
çµæœã¯ä¸Šã¨åŒã˜ã§ã™ã­ã€‚ï¼ˆã‚µãƒ³ãƒ—ãƒ«ãŒæ‚ªãã¦ç”³ã—è¨³ãªã„ã§ã™ï¼‰
ã“ã†ã—ã¦æ®‹ã£ãŸã‚³ãƒŸãƒƒãƒˆã‹ã‚‰æ®‹ã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã‚’æ¢ã—å‡ºã™ã®ã§ã™ãŒã€ä¸€ã€…`git show`ã™ã‚‹ã®ã‚‚æ‰‹é–“ãªã®ã§ã‚³ãƒŸãƒƒãƒˆIDã‚’ä½¿ã£ã¦ä¸€è¦§ã«ã—ã¦ã—ã¾ã„ã¾ã™ã€‚

```powershell:powershell
> git fsck --lost-found | ?{ $_ -match "commit"} | %{ ($_ -split ' ')[2] } | %{ git show --no-patch $_ }
Checking object directories: 100% (256/256), done.
Checking objects: 100% (189/189), done.
commit 5bb836c4a1ecfbcca27d87f66a53007380962efb
Merge: 96ff14c ecb531e
Author: *********
Date:   Thu Oct 26 20:52:35 2017 +0900

    comment
commit 7c75d438ab033ddafe60833325b216e8b7355636
Author: *********
Date:   Thu Jan 16 01:35:01 2020 +0900

    test
commit 137af08c3282051d0ea00c62da76af6d5fb9ae3c
Author: *********
Date:   Thu Jan 16 01:35:36 2020 +0900

    test
```

ã“ã†ã—ã¦ä¸€è¦§ã«ã•ã‚ŒãŸå®™ã¶ã‚‰ã‚Šã‚“ã®ã‚³ãƒŸãƒƒãƒˆç¾¤ã®ä¸­ã‹ã‚‰è©²å½“ã™ã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯ã—ã¾ã™ã€‚

```powershell:powershell
git cherry-pick -n -m1 <commit id>
```

ã“ã‚Œã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å¾©æ´»ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã‚ã§ãŸã—ã‚ã§ãŸã—ã€‚

ã‚µãƒ³ãƒ—ãƒ«ã«é©å½“ãªãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã§ã‚„ã‚Šã¾ã—ãŸãŒã€æ„å¤–ã¨2017å¹´ã®ã‚³ãƒŸãƒƒãƒˆã¨ã‹æ®‹ã£ã¦ã„ãŸã‚Šã™ã‚‹ã‚“ã§ã™ã­ã€‚å¤šå°‘ã³ã£ãã‚Šã—ã¾ã—ãŸã€‚


# å‚è€ƒURL

* [git stashã‚’ã‚³ãƒŸãƒƒãƒˆã‚‚ãªã—ã«æ¶ˆã—ã¦ã—ã¾ã£ãŸæ™‚ã®å¯¾å¿œ \- Qiita](https://qiita.com/shotakeu/items/430a09dddeeac444dcf6)
* [Look up commit log for commit ID in Git \- Stack Overflow](https://stackoverflow.com/questions/13398819/look-up-commit-log-for-commit-id-in-git/13398872#13398872)

